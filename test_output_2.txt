============================= test session starts =============================
platform win32 -- Python 3.13.7, pytest-8.4.2, pluggy-1.6.0
rootdir: D:\EvalForge
plugins: anyio-4.11.0, Faker-37.11.0, langsmith-0.4.38, asyncio-1.2.0, cov-7.0.0, env-1.2.0, httpx-0.35.0
asyncio: mode=Mode.STRICT, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collected 1 item

tests\backend\test_boss_combat_regression.py 2025-12-03 20:05:55,498 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-03 20:05:55,499 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("avatardefinition")
2025-12-03 20:05:55,499 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-03 20:05:55,500 INFO sqlalchemy.engine.Engine PRAGMA temp.table_info("avatardefinition")
2025-12-03 20:05:55,500 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-03 20:05:55,501 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("user")
2025-12-03 20:05:55,501 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-03 20:05:55,501 INFO sqlalchemy.engine.Engine PRAGMA temp.table_info("user")
2025-12-03 20:05:55,501 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-03 20:05:55,502 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("chatsession")
2025-12-03 20:05:55,502 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-03 20:05:55,503 INFO sqlalchemy.engine.Engine PRAGMA temp.table_info("chatsession")
2025-12-03 20:05:55,503 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-03 20:05:55,503 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("profile")
2025-12-03 20:05:55,503 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-03 20:05:55,504 INFO sqlalchemy.engine.Engine PRAGMA temp.table_info("profile")
2025-12-03 20:05:55,504 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-03 20:05:55,505 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("skillnode")
2025-12-03 20:05:55,505 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-03 20:05:55,505 INFO sqlalchemy.engine.Engine PRAGMA temp.table_info("skillnode")
2025-12-03 20:05:55,505 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-03 20:05:55,506 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("userskill")
2025-12-03 20:05:55,506 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-03 20:05:55,506 INFO sqlalchemy.engine.Engine PRAGMA temp.table_info("userskill")
2025-12-03 20:05:55,507 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-03 20:05:55,507 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("usermetric")
2025-12-03 20:05:55,507 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-03 20:05:55,508 INFO sqlalchemy.engine.Engine PRAGMA temp.table_info("usermetric")
2025-12-03 20:05:55,508 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-03 20:05:55,508 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("badgedefinition")
2025-12-03 20:05:55,508 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-03 20:05:55,509 INFO sqlalchemy.engine.Engine PRAGMA temp.table_info("badgedefinition")
2025-12-03 20:05:55,509 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-03 20:05:55,509 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("userbadge")
2025-12-03 20:05:55,509 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-03 20:05:55,510 INFO sqlalchemy.engine.Engine PRAGMA temp.table_info("userbadge")
2025-12-03 20:05:55,510 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-03 20:05:55,510 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("project")
2025-12-03 20:05:55,510 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-03 20:05:55,510 INFO sqlalchemy.engine.Engine PRAGMA temp.table_info("project")
2025-12-03 20:05:55,510 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-03 20:05:55,510 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("projectcodexdoc")
2025-12-03 20:05:55,510 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-03 20:05:55,511 INFO sqlalchemy.engine.Engine PRAGMA temp.table_info("projectcodexdoc")
2025-12-03 20:05:55,511 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-03 20:05:55,511 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("knowledgechunk")
2025-12-03 20:05:55,511 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-03 20:05:55,512 INFO sqlalchemy.engine.Engine PRAGMA temp.table_info("knowledgechunk")
2025-12-03 20:05:55,512 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-03 20:05:55,512 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("bossdefinition")
2025-12-03 20:05:55,512 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-03 20:05:55,513 INFO sqlalchemy.engine.Engine PRAGMA temp.table_info("bossdefinition")
2025-12-03 20:05:55,513 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-03 20:05:55,513 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("bossrun")
2025-12-03 20:05:55,513 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-03 20:05:55,514 INFO sqlalchemy.engine.Engine PRAGMA temp.table_info("bossrun")
2025-12-03 20:05:55,514 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-03 20:05:55,514 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("bossprogress")
2025-12-03 20:05:55,514 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-03 20:05:55,515 INFO sqlalchemy.engine.Engine PRAGMA temp.table_info("bossprogress")
2025-12-03 20:05:55,515 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-03 20:05:55,515 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("bosscodexprogress")
2025-12-03 20:05:55,515 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-03 20:05:55,516 INFO sqlalchemy.engine.Engine PRAGMA temp.table_info("bosscodexprogress")
2025-12-03 20:05:55,516 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-03 20:05:55,516 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("trackdefinition")
2025-12-03 20:05:55,516 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-03 20:05:55,517 INFO sqlalchemy.engine.Engine PRAGMA temp.table_info("trackdefinition")
2025-12-03 20:05:55,517 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-03 20:05:55,517 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("questdefinition")
2025-12-03 20:05:55,517 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-03 20:05:55,518 INFO sqlalchemy.engine.Engine PRAGMA temp.table_info("questdefinition")
2025-12-03 20:05:55,518 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-03 20:05:55,518 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("userquest")
2025-12-03 20:05:55,518 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-03 20:05:55,518 INFO sqlalchemy.engine.Engine PRAGMA temp.table_info("userquest")
2025-12-03 20:05:55,518 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-03 20:05:55,519 INFO sqlalchemy.engine.Engine 
CREATE TABLE avatardefinition (
	id VARCHAR NOT NULL, 
	name VARCHAR NOT NULL, 
	description VARCHAR NOT NULL, 
	required_level INTEGER NOT NULL, 
	rarity VARCHAR NOT NULL, 
	visual_type VARCHAR NOT NULL, 
	visual_data VARCHAR NOT NULL, 
	is_active BOOLEAN NOT NULL, 
	PRIMARY KEY (id)
)


2025-12-03 20:05:55,519 INFO sqlalchemy.engine.Engine [no key 0.00007s] ()
2025-12-03 20:05:55,562 INFO sqlalchemy.engine.Engine 
CREATE TABLE skillnode (
	id VARCHAR NOT NULL, 
	name VARCHAR NOT NULL, 
	description VARCHAR NOT NULL, 
	tier INTEGER NOT NULL, 
	cost INTEGER NOT NULL, 
	category VARCHAR NOT NULL, 
	feature_key VARCHAR NOT NULL, 
	parent_id VARCHAR, 
	PRIMARY KEY (id), 
	FOREIGN KEY(parent_id) REFERENCES skillnode (id)
)


2025-12-03 20:05:55,562 INFO sqlalchemy.engine.Engine [no key 0.00016s] ()
2025-12-03 20:05:55,577 INFO sqlalchemy.engine.Engine 
CREATE TABLE badgedefinition (
	id VARCHAR NOT NULL, 
	name VARCHAR NOT NULL, 
	description VARCHAR NOT NULL, 
	icon_url VARCHAR, 
	xp_bonus INTEGER NOT NULL, 
	PRIMARY KEY (id)
)


2025-12-03 20:05:55,577 INFO sqlalchemy.engine.Engine [no key 0.00015s] ()
2025-12-03 20:05:55,585 INFO sqlalchemy.engine.Engine 
CREATE TABLE knowledgechunk (
	id INTEGER NOT NULL, 
	source_type VARCHAR NOT NULL, 
	source_id VARCHAR NOT NULL, 
	chunk_index INTEGER NOT NULL, 
	metadata_json JSON NOT NULL, 
	content VARCHAR NOT NULL, 
	embedding VECTOR(768), 
	PRIMARY KEY (id)
)


2025-12-03 20:05:55,585 INFO sqlalchemy.engine.Engine [no key 0.00015s] ()
2025-12-03 20:05:55,592 INFO sqlalchemy.engine.Engine 
CREATE TABLE bossdefinition (
	id VARCHAR NOT NULL, 
	name VARCHAR NOT NULL, 
	description VARCHAR NOT NULL, 
	technical_objective VARCHAR NOT NULL, 
	rubric VARCHAR NOT NULL, 
	starting_code VARCHAR NOT NULL, 
	world_id VARCHAR, 
	track_id VARCHAR, 
	time_limit_seconds INTEGER NOT NULL, 
	max_hp INTEGER NOT NULL, 
	base_xp_reward INTEGER NOT NULL, 
	difficulty VARCHAR NOT NULL, 
	hint_codex_id VARCHAR, 
	enabled BOOLEAN NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (id)
)


2025-12-03 20:05:55,592 INFO sqlalchemy.engine.Engine [no key 0.00014s] ()
2025-12-03 20:05:55,599 INFO sqlalchemy.engine.Engine CREATE INDEX ix_bossdefinition_track_id ON bossdefinition (track_id)
2025-12-03 20:05:55,599 INFO sqlalchemy.engine.Engine [no key 0.00011s] ()
2025-12-03 20:05:55,606 INFO sqlalchemy.engine.Engine CREATE INDEX ix_bossdefinition_world_id ON bossdefinition (world_id)
2025-12-03 20:05:55,607 INFO sqlalchemy.engine.Engine [no key 0.00011s] ()
2025-12-03 20:05:55,614 INFO sqlalchemy.engine.Engine 
CREATE TABLE trackdefinition (
	id VARCHAR NOT NULL, 
	world_id VARCHAR NOT NULL, 
	name VARCHAR NOT NULL, 
	description VARCHAR NOT NULL, 
	order_index INTEGER NOT NULL, 
	boss_slug VARCHAR, 
	PRIMARY KEY (id)
)


2025-12-03 20:05:55,614 INFO sqlalchemy.engine.Engine [no key 0.00012s] ()
2025-12-03 20:05:55,622 INFO sqlalchemy.engine.Engine CREATE INDEX ix_trackdefinition_world_id ON trackdefinition (world_id)
2025-12-03 20:05:55,622 INFO sqlalchemy.engine.Engine [no key 0.00015s] ()
2025-12-03 20:05:55,630 INFO sqlalchemy.engine.Engine 
CREATE TABLE questdefinition (
	id VARCHAR NOT NULL, 
	track_id VARCHAR NOT NULL, 
	sequence_order INTEGER NOT NULL, 
	tier INTEGER NOT NULL, 
	xp_reward INTEGER NOT NULL, 
	title VARCHAR NOT NULL, 
	technical_objective VARCHAR NOT NULL, 
	rubric_hints VARCHAR NOT NULL, 
	boss BOOLEAN NOT NULL, 
	PRIMARY KEY (id)
)


2025-12-03 20:05:55,630 INFO sqlalchemy.engine.Engine [no key 0.00014s] ()
2025-12-03 20:05:55,637 INFO sqlalchemy.engine.Engine CREATE INDEX ix_questdefinition_track_id ON questdefinition (track_id)
2025-12-03 20:05:55,637 INFO sqlalchemy.engine.Engine [no key 0.00014s] ()
2025-12-03 20:05:55,645 INFO sqlalchemy.engine.Engine 
CREATE TABLE user (
	id VARCHAR NOT NULL, 
	name VARCHAR NOT NULL, 
	avatar_url VARCHAR, 
	current_avatar_id VARCHAR NOT NULL, 
	created_at DATETIME NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(current_avatar_id) REFERENCES avatardefinition (id)
)


2025-12-03 20:05:55,645 INFO sqlalchemy.engine.Engine [no key 0.00014s] ()
2025-12-03 20:05:55,652 INFO sqlalchemy.engine.Engine 
CREATE TABLE chatsession (
	id VARCHAR NOT NULL, 
	user_id VARCHAR NOT NULL, 
	mode VARCHAR NOT NULL, 
	world_id VARCHAR, 
	track_id VARCHAR, 
	history JSON NOT NULL, 
	state JSON NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES user (id)
)


2025-12-03 20:05:55,652 INFO sqlalchemy.engine.Engine [no key 0.00013s] ()
2025-12-03 20:05:55,659 INFO sqlalchemy.engine.Engine CREATE INDEX ix_chatsession_user_id ON chatsession (user_id)
2025-12-03 20:05:55,660 INFO sqlalchemy.engine.Engine [no key 0.00014s] ()
2025-12-03 20:05:55,667 INFO sqlalchemy.engine.Engine 
CREATE TABLE profile (
	id INTEGER NOT NULL, 
	user_id VARCHAR NOT NULL, 
	total_xp INTEGER NOT NULL, 
	global_level INTEGER NOT NULL, 
	skill_points INTEGER NOT NULL, 
	world_progress JSON NOT NULL, 
	PRIMARY KEY (id), 
	UNIQUE (user_id), 
	FOREIGN KEY(user_id) REFERENCES user (id)
)


2025-12-03 20:05:55,667 INFO sqlalchemy.engine.Engine [no key 0.00012s] ()
2025-12-03 20:05:55,675 INFO sqlalchemy.engine.Engine 
CREATE TABLE userskill (
	id INTEGER NOT NULL, 
	user_id VARCHAR NOT NULL, 
	skill_id VARCHAR NOT NULL, 
	unlocked_at DATETIME NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES user (id), 
	FOREIGN KEY(skill_id) REFERENCES skillnode (id)
)


2025-12-03 20:05:55,675 INFO sqlalchemy.engine.Engine [no key 0.00016s] ()
2025-12-03 20:05:55,682 INFO sqlalchemy.engine.Engine CREATE INDEX ix_userskill_user_id ON userskill (user_id)
2025-12-03 20:05:55,682 INFO sqlalchemy.engine.Engine [no key 0.00014s] ()
2025-12-03 20:05:55,690 INFO sqlalchemy.engine.Engine CREATE INDEX ix_userskill_skill_id ON userskill (skill_id)
2025-12-03 20:05:55,690 INFO sqlalchemy.engine.Engine [no key 0.00014s] ()
2025-12-03 20:05:55,698 INFO sqlalchemy.engine.Engine 
CREATE TABLE usermetric (
	id INTEGER NOT NULL, 
	user_id VARCHAR NOT NULL, 
	metric_key VARCHAR NOT NULL, 
	value INTEGER NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES user (id)
)


2025-12-03 20:05:55,698 INFO sqlalchemy.engine.Engine [no key 0.00012s] ()
2025-12-03 20:05:55,706 INFO sqlalchemy.engine.Engine CREATE INDEX ix_usermetric_user_id ON usermetric (user_id)
2025-12-03 20:05:55,706 INFO sqlalchemy.engine.Engine [no key 0.00014s] ()
2025-12-03 20:05:55,714 INFO sqlalchemy.engine.Engine 
CREATE TABLE userbadge (
	id INTEGER NOT NULL, 
	user_id VARCHAR NOT NULL, 
	badge_id VARCHAR NOT NULL, 
	awarded_at DATETIME NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES user (id), 
	FOREIGN KEY(badge_id) REFERENCES badgedefinition (id)
)


2025-12-03 20:05:55,714 INFO sqlalchemy.engine.Engine [no key 0.00013s] ()
2025-12-03 20:05:55,725 INFO sqlalchemy.engine.Engine CREATE INDEX ix_userbadge_user_id ON userbadge (user_id)
2025-12-03 20:05:55,725 INFO sqlalchemy.engine.Engine [no key 0.00013s] ()
2025-12-03 20:05:55,733 INFO sqlalchemy.engine.Engine 
CREATE TABLE project (
	id VARCHAR NOT NULL, 
	owner_user_id VARCHAR NOT NULL, 
	name VARCHAR NOT NULL, 
	repo_url VARCHAR NOT NULL, 
	provider VARCHAR NOT NULL, 
	source VARCHAR NOT NULL, 
	default_world_id VARCHAR NOT NULL, 
	summary_data JSON NOT NULL, 
	sync_status VARCHAR NOT NULL, 
	last_sync_at DATETIME, 
	codex_status VARCHAR NOT NULL, 
	codex_warnings JSON NOT NULL, 
	codex_last_sync DATETIME, 
	PRIMARY KEY (id), 
	FOREIGN KEY(owner_user_id) REFERENCES user (id)
)


2025-12-03 20:05:55,734 INFO sqlalchemy.engine.Engine [no key 0.00018s] ()
2025-12-03 20:05:55,742 INFO sqlalchemy.engine.Engine 
CREATE TABLE bossrun (
	id INTEGER NOT NULL, 
	user_id VARCHAR NOT NULL, 
	boss_id VARCHAR NOT NULL, 
	started_at DATETIME NOT NULL, 
	expires_at DATETIME NOT NULL, 
	completed_at DATETIME, 
	result VARCHAR, 
	score INTEGER NOT NULL, 
	hp_remaining INTEGER NOT NULL, 
	judge_trace_id VARCHAR, 
	notes VARCHAR, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES user (id), 
	FOREIGN KEY(boss_id) REFERENCES bossdefinition (id)
)


2025-12-03 20:05:55,742 INFO sqlalchemy.engine.Engine [no key 0.00014s] ()
2025-12-03 20:05:55,750 INFO sqlalchemy.engine.Engine CREATE INDEX ix_bossrun_boss_id ON bossrun (boss_id)
2025-12-03 20:05:55,750 INFO sqlalchemy.engine.Engine [no key 0.00014s] ()
2025-12-03 20:05:55,759 INFO sqlalchemy.engine.Engine CREATE INDEX ix_bossrun_user_id ON bossrun (user_id)
2025-12-03 20:05:55,759 INFO sqlalchemy.engine.Engine [no key 0.00013s] ()
2025-12-03 20:05:55,767 INFO sqlalchemy.engine.Engine 
CREATE TABLE bossprogress (
	id INTEGER NOT NULL, 
	user_id VARCHAR NOT NULL, 
	boss_id VARCHAR NOT NULL, 
	fail_streak INTEGER NOT NULL, 
	highest_hint_level INTEGER NOT NULL, 
	last_attempt_at DATETIME NOT NULL, 
	last_result VARCHAR, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES user (id), 
	FOREIGN KEY(boss_id) REFERENCES bossdefinition (id)
)


2025-12-03 20:05:55,767 INFO sqlalchemy.engine.Engine [no key 0.00014s] ()
2025-12-03 20:05:55,776 INFO sqlalchemy.engine.Engine CREATE INDEX ix_bossprogress_boss_id ON bossprogress (boss_id)
2025-12-03 20:05:55,776 INFO sqlalchemy.engine.Engine [no key 0.00044s] ()
2025-12-03 20:05:55,784 INFO sqlalchemy.engine.Engine CREATE INDEX ix_bossprogress_user_id ON bossprogress (user_id)
2025-12-03 20:05:55,784 INFO sqlalchemy.engine.Engine [no key 0.00013s] ()
2025-12-03 20:05:55,792 INFO sqlalchemy.engine.Engine 
CREATE TABLE userquest (
	id INTEGER NOT NULL, 
	user_id VARCHAR NOT NULL, 
	source VARCHAR(12) NOT NULL, 
	quest_def_id VARCHAR, 
	status VARCHAR NOT NULL, 
	started_at DATETIME NOT NULL, 
	completed_at DATETIME, 
	dynamic_objective VARCHAR, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES user (id), 
	FOREIGN KEY(quest_def_id) REFERENCES questdefinition (id)
)


2025-12-03 20:05:55,792 INFO sqlalchemy.engine.Engine [no key 0.00016s] ()
2025-12-03 20:05:55,800 INFO sqlalchemy.engine.Engine CREATE INDEX ix_userquest_user_id ON userquest (user_id)
2025-12-03 20:05:55,800 INFO sqlalchemy.engine.Engine [no key 0.00014s] ()
2025-12-03 20:05:55,809 INFO sqlalchemy.engine.Engine 
CREATE TABLE projectcodexdoc (
	id INTEGER NOT NULL, 
	project_id VARCHAR NOT NULL, 
	doc_type VARCHAR NOT NULL, 
	title VARCHAR NOT NULL, 
	summary VARCHAR NOT NULL, 
	body_md VARCHAR NOT NULL, 
	world_ids JSON NOT NULL, 
	level INTEGER NOT NULL, 
	tags JSON NOT NULL, 
	metadata_json JSON NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	auto_generated BOOLEAN NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(project_id) REFERENCES project (id)
)


2025-12-03 20:05:55,809 INFO sqlalchemy.engine.Engine [no key 0.00014s] ()
2025-12-03 20:05:55,817 INFO sqlalchemy.engine.Engine CREATE INDEX ix_projectcodexdoc_doc_type ON projectcodexdoc (doc_type)
2025-12-03 20:05:55,817 INFO sqlalchemy.engine.Engine [no key 0.00014s] ()
2025-12-03 20:05:55,825 INFO sqlalchemy.engine.Engine CREATE INDEX ix_projectcodexdoc_project_id ON projectcodexdoc (project_id)
2025-12-03 20:05:55,825 INFO sqlalchemy.engine.Engine [no key 0.00012s] ()
2025-12-03 20:05:55,832 INFO sqlalchemy.engine.Engine 
CREATE TABLE bosscodexprogress (
	id INTEGER NOT NULL, 
	profile_id INTEGER NOT NULL, 
	boss_id VARCHAR NOT NULL, 
	tier_unlocked INTEGER NOT NULL, 
	deaths INTEGER NOT NULL, 
	wins INTEGER NOT NULL, 
	first_seen_at DATETIME, 
	first_kill_at DATETIME, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(profile_id) REFERENCES profile (id)
)


2025-12-03 20:05:55,833 INFO sqlalchemy.engine.Engine [no key 0.00014s] ()
2025-12-03 20:05:55,841 INFO sqlalchemy.engine.Engine CREATE INDEX ix_bosscodexprogress_boss_id ON bosscodexprogress (boss_id)
2025-12-03 20:05:55,841 INFO sqlalchemy.engine.Engine [no key 0.00015s] ()
2025-12-03 20:05:55,848 INFO sqlalchemy.engine.Engine CREATE INDEX ix_bosscodexprogress_profile_id ON bosscodexprogress (profile_id)
2025-12-03 20:05:55,848 INFO sqlalchemy.engine.Engine [no key 0.00015s] ()
2025-12-03 20:05:55,855 INFO sqlalchemy.engine.Engine COMMIT
E2025-12-03 20:05:56,212 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-03 20:05:56,212 INFO sqlalchemy.engine.Engine PRAGMA foreign_keys = OFF
2025-12-03 20:05:56,212 INFO sqlalchemy.engine.Engine [generated in 0.00010s] ()
2025-12-03 20:05:56,213 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("avatardefinition")
2025-12-03 20:05:56,213 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-03 20:05:56,213 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("user")
2025-12-03 20:05:56,213 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-03 20:05:56,214 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("chatsession")
2025-12-03 20:05:56,214 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-03 20:05:56,214 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("profile")
2025-12-03 20:05:56,214 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-03 20:05:56,214 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("skillnode")
2025-12-03 20:05:56,214 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-03 20:05:56,215 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("userskill")
2025-12-03 20:05:56,215 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-03 20:05:56,216 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("usermetric")
2025-12-03 20:05:56,216 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-03 20:05:56,217 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("badgedefinition")
2025-12-03 20:05:56,217 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-03 20:05:56,217 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("userbadge")
2025-12-03 20:05:56,217 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-03 20:05:56,217 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("project")
2025-12-03 20:05:56,217 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-03 20:05:56,218 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("projectcodexdoc")
2025-12-03 20:05:56,218 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-03 20:05:56,218 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("knowledgechunk")
2025-12-03 20:05:56,218 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-03 20:05:56,218 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("bossdefinition")
2025-12-03 20:05:56,218 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-03 20:05:56,219 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("bossrun")
2025-12-03 20:05:56,219 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-03 20:05:56,219 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("bossprogress")
2025-12-03 20:05:56,219 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-03 20:05:56,219 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("bosscodexprogress")
2025-12-03 20:05:56,219 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-03 20:05:56,220 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("trackdefinition")
2025-12-03 20:05:56,220 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-03 20:05:56,221 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("questdefinition")
2025-12-03 20:05:56,221 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-03 20:05:56,221 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("userquest")
2025-12-03 20:05:56,221 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-03 20:05:56,222 INFO sqlalchemy.engine.Engine 
DROP TABLE bosscodexprogress
2025-12-03 20:05:56,222 INFO sqlalchemy.engine.Engine [no key 0.00007s] ()
2025-12-03 20:05:56,254 INFO sqlalchemy.engine.Engine 
DROP TABLE projectcodexdoc
2025-12-03 20:05:56,254 INFO sqlalchemy.engine.Engine [no key 0.00015s] ()
2025-12-03 20:05:56,266 INFO sqlalchemy.engine.Engine 
DROP TABLE userquest
2025-12-03 20:05:56,266 INFO sqlalchemy.engine.Engine [no key 0.00015s] ()
2025-12-03 20:05:56,277 INFO sqlalchemy.engine.Engine 
DROP TABLE bossprogress
2025-12-03 20:05:56,277 INFO sqlalchemy.engine.Engine [no key 0.00015s] ()
2025-12-03 20:05:56,285 INFO sqlalchemy.engine.Engine 
DROP TABLE bossrun
2025-12-03 20:05:56,285 INFO sqlalchemy.engine.Engine [no key 0.00013s] ()
2025-12-03 20:05:56,292 INFO sqlalchemy.engine.Engine 
DROP TABLE project
2025-12-03 20:05:56,292 INFO sqlalchemy.engine.Engine [no key 0.00011s] ()
2025-12-03 20:05:56,300 INFO sqlalchemy.engine.Engine 
DROP TABLE userbadge
2025-12-03 20:05:56,300 INFO sqlalchemy.engine.Engine [no key 0.00015s] ()
2025-12-03 20:05:56,307 INFO sqlalchemy.engine.Engine 
DROP TABLE usermetric
2025-12-03 20:05:56,307 INFO sqlalchemy.engine.Engine [no key 0.00012s] ()
2025-12-03 20:05:56,314 INFO sqlalchemy.engine.Engine 
DROP TABLE userskill
2025-12-03 20:05:56,315 INFO sqlalchemy.engine.Engine [no key 0.00014s] ()
2025-12-03 20:05:56,322 INFO sqlalchemy.engine.Engine 
DROP TABLE profile
2025-12-03 20:05:56,322 INFO sqlalchemy.engine.Engine [no key 0.00015s] ()
2025-12-03 20:05:56,329 INFO sqlalchemy.engine.Engine 
DROP TABLE chatsession
2025-12-03 20:05:56,329 INFO sqlalchemy.engine.Engine [no key 0.00013s] ()
2025-12-03 20:05:56,336 INFO sqlalchemy.engine.Engine 
DROP TABLE user
2025-12-03 20:05:56,336 INFO sqlalchemy.engine.Engine [no key 0.00012s] ()
2025-12-03 20:05:56,343 INFO sqlalchemy.engine.Engine 
DROP TABLE questdefinition
2025-12-03 20:05:56,343 INFO sqlalchemy.engine.Engine [no key 0.00012s] ()
2025-12-03 20:05:56,350 INFO sqlalchemy.engine.Engine 
DROP TABLE trackdefinition
2025-12-03 20:05:56,351 INFO sqlalchemy.engine.Engine [no key 0.00011s] ()
2025-12-03 20:05:56,357 INFO sqlalchemy.engine.Engine 
DROP TABLE bossdefinition
2025-12-03 20:05:56,357 INFO sqlalchemy.engine.Engine [no key 0.00012s] ()
2025-12-03 20:05:56,364 INFO sqlalchemy.engine.Engine 
DROP TABLE knowledgechunk
2025-12-03 20:05:56,364 INFO sqlalchemy.engine.Engine [no key 0.00013s] ()
2025-12-03 20:05:56,370 INFO sqlalchemy.engine.Engine 
DROP TABLE badgedefinition
2025-12-03 20:05:56,371 INFO sqlalchemy.engine.Engine [no key 0.00012s] ()
2025-12-03 20:05:56,377 INFO sqlalchemy.engine.Engine 
DROP TABLE skillnode
2025-12-03 20:05:56,378 INFO sqlalchemy.engine.Engine [no key 0.00014s] ()
2025-12-03 20:05:56,384 INFO sqlalchemy.engine.Engine 
DROP TABLE avatardefinition
2025-12-03 20:05:56,384 INFO sqlalchemy.engine.Engine [no key 0.00012s] ()
2025-12-03 20:05:56,391 INFO sqlalchemy.engine.Engine PRAGMA foreign_keys = ON
2025-12-03 20:05:56,391 INFO sqlalchemy.engine.Engine [generated in 0.00018s] ()
2025-12-03 20:05:56,392 INFO sqlalchemy.engine.Engine COMMIT


=================================== ERRORS ====================================
__ ERROR at setup of test_boss_combat_regression_accept_submit_changes_state __

db_session = <sqlalchemy.orm.session.AsyncSession object at 0x0000027C01107A10>

    @pytest_asyncio.fixture
    async def seeded_db(db_session):
        # Run the seeding logic against the test DB
>       await seed_bosses()

tests\backend\test_boss_combat_regression.py:16: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
arcade_app\seed_bosses.py:239: in seed_bosses
    print("\U0001f331 Seeding Bosses...")
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

self = <encodings.cp1252.IncrementalEncoder object at 0x0000027C448C4AD0>
input = '\U0001f331 Seeding Bosses...', final = False

    def encode(self, input, final=False):
>       return codecs.charmap_encode(input,self.errors,encoding_table)[0]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E       UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f331' in position 0: character maps to <undefined>

C:\Python313\Lib\encodings\cp1252.py:19: UnicodeEncodeError
----------------------------- Captured log setup ------------------------------
INFO     sqlalchemy.engine.Engine:base.py:2702 BEGIN (implicit)
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA main.table_info("avatardefinition")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA temp.table_info("avatardefinition")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA main.table_info("user")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA temp.table_info("user")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA main.table_info("chatsession")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA temp.table_info("chatsession")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA main.table_info("profile")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA temp.table_info("profile")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA main.table_info("skillnode")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA temp.table_info("skillnode")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA main.table_info("userskill")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA temp.table_info("userskill")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA main.table_info("usermetric")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA temp.table_info("usermetric")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA main.table_info("badgedefinition")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA temp.table_info("badgedefinition")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA main.table_info("userbadge")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA temp.table_info("userbadge")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA main.table_info("project")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA temp.table_info("project")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA main.table_info("projectcodexdoc")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA temp.table_info("projectcodexdoc")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA main.table_info("knowledgechunk")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA temp.table_info("knowledgechunk")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA main.table_info("bossdefinition")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA temp.table_info("bossdefinition")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA main.table_info("bossrun")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA temp.table_info("bossrun")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA main.table_info("bossprogress")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA temp.table_info("bossprogress")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA main.table_info("bosscodexprogress")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA temp.table_info("bosscodexprogress")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA main.table_info("trackdefinition")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA temp.table_info("trackdefinition")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA main.table_info("questdefinition")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA temp.table_info("questdefinition")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA main.table_info("userquest")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA temp.table_info("userquest")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE avatardefinition (
	id VARCHAR NOT NULL, 
	name VARCHAR NOT NULL, 
	description VARCHAR NOT NULL, 
	required_level INTEGER NOT NULL, 
	rarity VARCHAR NOT NULL, 
	visual_type VARCHAR NOT NULL, 
	visual_data VARCHAR NOT NULL, 
	is_active BOOLEAN NOT NULL, 
	PRIMARY KEY (id)
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE skillnode (
	id VARCHAR NOT NULL, 
	name VARCHAR NOT NULL, 
	description VARCHAR NOT NULL, 
	tier INTEGER NOT NULL, 
	cost INTEGER NOT NULL, 
	category VARCHAR NOT NULL, 
	feature_key VARCHAR NOT NULL, 
	parent_id VARCHAR, 
	PRIMARY KEY (id), 
	FOREIGN KEY(parent_id) REFERENCES skillnode (id)
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00016s] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE badgedefinition (
	id VARCHAR NOT NULL, 
	name VARCHAR NOT NULL, 
	description VARCHAR NOT NULL, 
	icon_url VARCHAR, 
	xp_bonus INTEGER NOT NULL, 
	PRIMARY KEY (id)
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00015s] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE knowledgechunk (
	id INTEGER NOT NULL, 
	source_type VARCHAR NOT NULL, 
	source_id VARCHAR NOT NULL, 
	chunk_index INTEGER NOT NULL, 
	metadata_json JSON NOT NULL, 
	content VARCHAR NOT NULL, 
	embedding VECTOR(768), 
	PRIMARY KEY (id)
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00015s] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE bossdefinition (
	id VARCHAR NOT NULL, 
	name VARCHAR NOT NULL, 
	description VARCHAR NOT NULL, 
	technical_objective VARCHAR NOT NULL, 
	rubric VARCHAR NOT NULL, 
	starting_code VARCHAR NOT NULL, 
	world_id VARCHAR, 
	track_id VARCHAR, 
	time_limit_seconds INTEGER NOT NULL, 
	max_hp INTEGER NOT NULL, 
	base_xp_reward INTEGER NOT NULL, 
	difficulty VARCHAR NOT NULL, 
	hint_codex_id VARCHAR, 
	enabled BOOLEAN NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (id)
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00014s] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX ix_bossdefinition_track_id ON bossdefinition (track_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00011s] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX ix_bossdefinition_world_id ON bossdefinition (world_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00011s] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE trackdefinition (
	id VARCHAR NOT NULL, 
	world_id VARCHAR NOT NULL, 
	name VARCHAR NOT NULL, 
	description VARCHAR NOT NULL, 
	order_index INTEGER NOT NULL, 
	boss_slug VARCHAR, 
	PRIMARY KEY (id)
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00012s] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX ix_trackdefinition_world_id ON trackdefinition (world_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00015s] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE questdefinition (
	id VARCHAR NOT NULL, 
	track_id VARCHAR NOT NULL, 
	sequence_order INTEGER NOT NULL, 
	tier INTEGER NOT NULL, 
	xp_reward INTEGER NOT NULL, 
	title VARCHAR NOT NULL, 
	technical_objective VARCHAR NOT NULL, 
	rubric_hints VARCHAR NOT NULL, 
	boss BOOLEAN NOT NULL, 
	PRIMARY KEY (id)
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00014s] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX ix_questdefinition_track_id ON questdefinition (track_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00014s] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE user (
	id VARCHAR NOT NULL, 
	name VARCHAR NOT NULL, 
	avatar_url VARCHAR, 
	current_avatar_id VARCHAR NOT NULL, 
	created_at DATETIME NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(current_avatar_id) REFERENCES avatardefinition (id)
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00014s] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE chatsession (
	id VARCHAR NOT NULL, 
	user_id VARCHAR NOT NULL, 
	mode VARCHAR NOT NULL, 
	world_id VARCHAR, 
	track_id VARCHAR, 
	history JSON NOT NULL, 
	state JSON NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES user (id)
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00013s] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX ix_chatsession_user_id ON chatsession (user_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00014s] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE profile (
	id INTEGER NOT NULL, 
	user_id VARCHAR NOT NULL, 
	total_xp INTEGER NOT NULL, 
	global_level INTEGER NOT NULL, 
	skill_points INTEGER NOT NULL, 
	world_progress JSON NOT NULL, 
	PRIMARY KEY (id), 
	UNIQUE (user_id), 
	FOREIGN KEY(user_id) REFERENCES user (id)
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00012s] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE userskill (
	id INTEGER NOT NULL, 
	user_id VARCHAR NOT NULL, 
	skill_id VARCHAR NOT NULL, 
	unlocked_at DATETIME NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES user (id), 
	FOREIGN KEY(skill_id) REFERENCES skillnode (id)
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00016s] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX ix_userskill_user_id ON userskill (user_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00014s] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX ix_userskill_skill_id ON userskill (skill_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00014s] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE usermetric (
	id INTEGER NOT NULL, 
	user_id VARCHAR NOT NULL, 
	metric_key VARCHAR NOT NULL, 
	value INTEGER NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES user (id)
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00012s] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX ix_usermetric_user_id ON usermetric (user_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00014s] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE userbadge (
	id INTEGER NOT NULL, 
	user_id VARCHAR NOT NULL, 
	badge_id VARCHAR NOT NULL, 
	awarded_at DATETIME NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES user (id), 
	FOREIGN KEY(badge_id) REFERENCES badgedefinition (id)
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00013s] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX ix_userbadge_user_id ON userbadge (user_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00013s] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE project (
	id VARCHAR NOT NULL, 
	owner_user_id VARCHAR NOT NULL, 
	name VARCHAR NOT NULL, 
	repo_url VARCHAR NOT NULL, 
	provider VARCHAR NOT NULL, 
	source VARCHAR NOT NULL, 
	default_world_id VARCHAR NOT NULL, 
	summary_data JSON NOT NULL, 
	sync_status VARCHAR NOT NULL, 
	last_sync_at DATETIME, 
	codex_status VARCHAR NOT NULL, 
	codex_warnings JSON NOT NULL, 
	codex_last_sync DATETIME, 
	PRIMARY KEY (id), 
	FOREIGN KEY(owner_user_id) REFERENCES user (id)
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00018s] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE bossrun (
	id INTEGER NOT NULL, 
	user_id VARCHAR NOT NULL, 
	boss_id VARCHAR NOT NULL, 
	started_at DATETIME NOT NULL, 
	expires_at DATETIME NOT NULL, 
	completed_at DATETIME, 
	result VARCHAR, 
	score INTEGER NOT NULL, 
	hp_remaining INTEGER NOT NULL, 
	judge_trace_id VARCHAR, 
	notes VARCHAR, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES user (id), 
	FOREIGN KEY(boss_id) REFERENCES bossdefinition (id)
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00014s] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX ix_bossrun_boss_id ON bossrun (boss_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00014s] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX ix_bossrun_user_id ON bossrun (user_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00013s] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE bossprogress (
	id INTEGER NOT NULL, 
	user_id VARCHAR NOT NULL, 
	boss_id VARCHAR NOT NULL, 
	fail_streak INTEGER NOT NULL, 
	highest_hint_level INTEGER NOT NULL, 
	last_attempt_at DATETIME NOT NULL, 
	last_result VARCHAR, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES user (id), 
	FOREIGN KEY(boss_id) REFERENCES bossdefinition (id)
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00014s] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX ix_bossprogress_boss_id ON bossprogress (boss_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00044s] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX ix_bossprogress_user_id ON bossprogress (user_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00013s] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE userquest (
	id INTEGER NOT NULL, 
	user_id VARCHAR NOT NULL, 
	source VARCHAR(12) NOT NULL, 
	quest_def_id VARCHAR, 
	status VARCHAR NOT NULL, 
	started_at DATETIME NOT NULL, 
	completed_at DATETIME, 
	dynamic_objective VARCHAR, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES user (id), 
	FOREIGN KEY(quest_def_id) REFERENCES questdefinition (id)
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00016s] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX ix_userquest_user_id ON userquest (user_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00014s] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE projectcodexdoc (
	id INTEGER NOT NULL, 
	project_id VARCHAR NOT NULL, 
	doc_type VARCHAR NOT NULL, 
	title VARCHAR NOT NULL, 
	summary VARCHAR NOT NULL, 
	body_md VARCHAR NOT NULL, 
	world_ids JSON NOT NULL, 
	level INTEGER NOT NULL, 
	tags JSON NOT NULL, 
	metadata_json JSON NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	auto_generated BOOLEAN NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(project_id) REFERENCES project (id)
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00014s] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX ix_projectcodexdoc_doc_type ON projectcodexdoc (doc_type)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00014s] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX ix_projectcodexdoc_project_id ON projectcodexdoc (project_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00012s] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE bosscodexprogress (
	id INTEGER NOT NULL, 
	profile_id INTEGER NOT NULL, 
	boss_id VARCHAR NOT NULL, 
	tier_unlocked INTEGER NOT NULL, 
	deaths INTEGER NOT NULL, 
	wins INTEGER NOT NULL, 
	first_seen_at DATETIME, 
	first_kill_at DATETIME, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(profile_id) REFERENCES profile (id)
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00014s] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX ix_bosscodexprogress_boss_id ON bosscodexprogress (boss_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00015s] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX ix_bosscodexprogress_profile_id ON bosscodexprogress (profile_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00015s] ()
INFO     sqlalchemy.engine.Engine:base.py:2708 COMMIT
============================== warnings summary ===============================
C:\Users\pierr\AppData\Roaming\Python\Python313\site-packages\pydantic\_internal\_config.py:323
  C:\Users\pierr\AppData\Roaming\Python\Python313\site-packages\pydantic\_internal\_config.py:323: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/
    warnings.warn(DEPRECATION_MESSAGE, DeprecationWarning)

C:\Users\pierr\AppData\Roaming\Python\Python313\site-packages\vertexai\_model_garden\_model_garden_models.py:278
  C:\Users\pierr\AppData\Roaming\Python\Python313\site-packages\vertexai\_model_garden\_model_garden_models.py:278: UserWarning: This feature is deprecated as of June 24, 2025 and will be removed on June 24, 2026. For details, see https://cloud.google.com/vertex-ai/generative-ai/docs/deprecations/genai-vertexai-sdk.
    warning_logs.show_deprecation_warning()

arcade_app\agent.py:424
  D:\EvalForge\arcade_app\agent.py:424: DeprecationWarning: 
          on_event is deprecated, use lifespan event handlers instead.
  
          Read more about it in the
          [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).
          
    @app.on_event("startup")

C:\Users\pierr\AppData\Roaming\Python\Python313\site-packages\fastapi\applications.py:4523
  C:\Users\pierr\AppData\Roaming\Python\Python313\site-packages\fastapi\applications.py:4523: DeprecationWarning: 
          on_event is deprecated, use lifespan event handlers instead.
  
          Read more about it in the
          [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).
          
    return self.router.on_event(event_type)

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ===========================
ERROR tests/backend/test_boss_combat_regression.py::test_boss_combat_regression_accept_submit_changes_state
======================== 4 warnings, 1 error in 5.77s =========================
