============================= test session starts =============================
platform win32 -- Python 3.13.7, pytest-8.4.2, pluggy-1.6.0
rootdir: D:\EvalForge
plugins: anyio-4.11.0, Faker-37.11.0, langsmith-0.4.38, asyncio-1.2.0, cov-7.0.0, env-1.2.0, httpx-0.35.0
asyncio: mode=Mode.STRICT, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collected 1 item

tests\backend\test_quest_smoke.py 2025-12-05 22:54:39,779 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-05 22:54:39,779 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("avatardefinition")
2025-12-05 22:54:39,780 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-05 22:54:39,781 INFO sqlalchemy.engine.Engine PRAGMA temp.table_info("avatardefinition")
2025-12-05 22:54:39,781 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-05 22:54:39,781 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("user")
2025-12-05 22:54:39,781 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-05 22:54:39,782 INFO sqlalchemy.engine.Engine PRAGMA temp.table_info("user")
2025-12-05 22:54:39,782 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-05 22:54:39,782 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("chatsession")
2025-12-05 22:54:39,782 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-05 22:54:39,783 INFO sqlalchemy.engine.Engine PRAGMA temp.table_info("chatsession")
2025-12-05 22:54:39,783 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-05 22:54:39,783 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("profile")
2025-12-05 22:54:39,783 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-05 22:54:39,784 INFO sqlalchemy.engine.Engine PRAGMA temp.table_info("profile")
2025-12-05 22:54:39,784 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-05 22:54:39,784 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("skillnode")
2025-12-05 22:54:39,784 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-05 22:54:39,784 INFO sqlalchemy.engine.Engine PRAGMA temp.table_info("skillnode")
2025-12-05 22:54:39,785 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-05 22:54:39,785 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("userskill")
2025-12-05 22:54:39,785 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-05 22:54:39,785 INFO sqlalchemy.engine.Engine PRAGMA temp.table_info("userskill")
2025-12-05 22:54:39,785 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-05 22:54:39,786 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("usermetric")
2025-12-05 22:54:39,786 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-05 22:54:39,786 INFO sqlalchemy.engine.Engine PRAGMA temp.table_info("usermetric")
2025-12-05 22:54:39,786 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-05 22:54:39,787 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("badgedefinition")
2025-12-05 22:54:39,787 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-05 22:54:39,787 INFO sqlalchemy.engine.Engine PRAGMA temp.table_info("badgedefinition")
2025-12-05 22:54:39,787 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-05 22:54:39,788 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("userbadge")
2025-12-05 22:54:39,788 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-05 22:54:39,788 INFO sqlalchemy.engine.Engine PRAGMA temp.table_info("userbadge")
2025-12-05 22:54:39,788 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-05 22:54:39,788 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("project")
2025-12-05 22:54:39,788 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-05 22:54:39,789 INFO sqlalchemy.engine.Engine PRAGMA temp.table_info("project")
2025-12-05 22:54:39,789 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-05 22:54:39,789 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("projectcodexdoc")
2025-12-05 22:54:39,789 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-05 22:54:39,790 INFO sqlalchemy.engine.Engine PRAGMA temp.table_info("projectcodexdoc")
2025-12-05 22:54:39,790 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-05 22:54:39,790 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("knowledgechunk")
2025-12-05 22:54:39,790 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-05 22:54:39,791 INFO sqlalchemy.engine.Engine PRAGMA temp.table_info("knowledgechunk")
2025-12-05 22:54:39,791 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-05 22:54:39,791 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("bossdefinition")
2025-12-05 22:54:39,791 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-05 22:54:39,791 INFO sqlalchemy.engine.Engine PRAGMA temp.table_info("bossdefinition")
2025-12-05 22:54:39,791 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-05 22:54:39,792 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("bossrun")
2025-12-05 22:54:39,792 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-05 22:54:39,792 INFO sqlalchemy.engine.Engine PRAGMA temp.table_info("bossrun")
2025-12-05 22:54:39,792 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-05 22:54:39,793 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("bossprogress")
2025-12-05 22:54:39,793 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-05 22:54:39,793 INFO sqlalchemy.engine.Engine PRAGMA temp.table_info("bossprogress")
2025-12-05 22:54:39,793 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-05 22:54:39,794 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("bosscodexprogress")
2025-12-05 22:54:39,794 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-05 22:54:39,794 INFO sqlalchemy.engine.Engine PRAGMA temp.table_info("bosscodexprogress")
2025-12-05 22:54:39,794 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-05 22:54:39,794 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("trackdefinition")
2025-12-05 22:54:39,794 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-05 22:54:39,795 INFO sqlalchemy.engine.Engine PRAGMA temp.table_info("trackdefinition")
2025-12-05 22:54:39,795 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-05 22:54:39,795 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("questdefinition")
2025-12-05 22:54:39,795 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-05 22:54:39,795 INFO sqlalchemy.engine.Engine PRAGMA temp.table_info("questdefinition")
2025-12-05 22:54:39,796 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-05 22:54:39,796 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("questprogress")
2025-12-05 22:54:39,796 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-05 22:54:39,796 INFO sqlalchemy.engine.Engine PRAGMA temp.table_info("questprogress")
2025-12-05 22:54:39,796 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-05 22:54:39,797 INFO sqlalchemy.engine.Engine 
CREATE TABLE avatardefinition (
	id VARCHAR NOT NULL, 
	name VARCHAR NOT NULL, 
	description VARCHAR NOT NULL, 
	required_level INTEGER NOT NULL, 
	rarity VARCHAR NOT NULL, 
	visual_type VARCHAR NOT NULL, 
	visual_data VARCHAR NOT NULL, 
	is_active BOOLEAN NOT NULL, 
	PRIMARY KEY (id)
)


2025-12-05 22:54:39,797 INFO sqlalchemy.engine.Engine [no key 0.00013s] ()
2025-12-05 22:54:39,816 INFO sqlalchemy.engine.Engine 
CREATE TABLE skillnode (
	id VARCHAR NOT NULL, 
	name VARCHAR NOT NULL, 
	description VARCHAR NOT NULL, 
	tier INTEGER NOT NULL, 
	cost INTEGER NOT NULL, 
	category VARCHAR NOT NULL, 
	feature_key VARCHAR NOT NULL, 
	parent_id VARCHAR, 
	PRIMARY KEY (id), 
	FOREIGN KEY(parent_id) REFERENCES skillnode (id)
)


2025-12-05 22:54:39,816 INFO sqlalchemy.engine.Engine [no key 0.00018s] ()
2025-12-05 22:54:39,829 INFO sqlalchemy.engine.Engine 
CREATE TABLE badgedefinition (
	id VARCHAR NOT NULL, 
	name VARCHAR NOT NULL, 
	description VARCHAR NOT NULL, 
	icon_url VARCHAR, 
	xp_bonus INTEGER NOT NULL, 
	PRIMARY KEY (id)
)


2025-12-05 22:54:39,829 INFO sqlalchemy.engine.Engine [no key 0.00017s] ()
2025-12-05 22:54:39,837 INFO sqlalchemy.engine.Engine 
CREATE TABLE knowledgechunk (
	id INTEGER NOT NULL, 
	source_type VARCHAR NOT NULL, 
	source_id VARCHAR NOT NULL, 
	chunk_index INTEGER NOT NULL, 
	metadata_json JSON NOT NULL, 
	content VARCHAR NOT NULL, 
	embedding VECTOR(768), 
	PRIMARY KEY (id)
)


2025-12-05 22:54:39,837 INFO sqlalchemy.engine.Engine [no key 0.00020s] ()
2025-12-05 22:54:39,846 INFO sqlalchemy.engine.Engine 
CREATE TABLE bossdefinition (
	id VARCHAR NOT NULL, 
	name VARCHAR NOT NULL, 
	description VARCHAR NOT NULL, 
	rubric VARCHAR NOT NULL, 
	starting_code VARCHAR NOT NULL, 
	world_id VARCHAR, 
	track_id VARCHAR, 
	project_slug VARCHAR, 
	tech_focus JSON NOT NULL, 
	phase VARCHAR, 
	time_limit_seconds INTEGER NOT NULL, 
	max_hp INTEGER NOT NULL, 
	base_xp_reward INTEGER NOT NULL, 
	difficulty VARCHAR NOT NULL, 
	hint_codex_id VARCHAR, 
	enabled BOOLEAN NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (id)
)


2025-12-05 22:54:39,846 INFO sqlalchemy.engine.Engine [no key 0.00021s] ()
2025-12-05 22:54:39,854 INFO sqlalchemy.engine.Engine CREATE INDEX ix_bossdefinition_track_id ON bossdefinition (track_id)
2025-12-05 22:54:39,854 INFO sqlalchemy.engine.Engine [no key 0.00022s] ()
2025-12-05 22:54:39,862 INFO sqlalchemy.engine.Engine CREATE INDEX ix_bossdefinition_project_slug ON bossdefinition (project_slug)
2025-12-05 22:54:39,863 INFO sqlalchemy.engine.Engine [no key 0.00019s] ()
2025-12-05 22:54:39,871 INFO sqlalchemy.engine.Engine CREATE INDEX ix_bossdefinition_world_id ON bossdefinition (world_id)
2025-12-05 22:54:39,871 INFO sqlalchemy.engine.Engine [no key 0.00020s] ()
2025-12-05 22:54:39,879 INFO sqlalchemy.engine.Engine 
CREATE TABLE trackdefinition (
	id VARCHAR NOT NULL, 
	world_id VARCHAR NOT NULL, 
	name VARCHAR NOT NULL, 
	description VARCHAR NOT NULL, 
	order_index INTEGER NOT NULL, 
	boss_slug VARCHAR, 
	PRIMARY KEY (id)
)


2025-12-05 22:54:39,879 INFO sqlalchemy.engine.Engine [no key 0.00024s] ()
2025-12-05 22:54:39,887 INFO sqlalchemy.engine.Engine CREATE INDEX ix_trackdefinition_world_id ON trackdefinition (world_id)
2025-12-05 22:54:39,887 INFO sqlalchemy.engine.Engine [no key 0.00022s] ()
2025-12-05 22:54:39,895 INFO sqlalchemy.engine.Engine 
CREATE TABLE questdefinition (
	id INTEGER NOT NULL, 
	slug VARCHAR NOT NULL, 
	world_id VARCHAR NOT NULL, 
	track_id VARCHAR NOT NULL, 
	order_index INTEGER NOT NULL, 
	title VARCHAR NOT NULL, 
	short_description VARCHAR NOT NULL, 
	detailed_description VARCHAR, 
	rubric_id VARCHAR, 
	starting_code_path VARCHAR, 
	unlocks_boss_id VARCHAR, 
	unlocks_layout_id VARCHAR, 
	base_xp_reward INTEGER NOT NULL, 
	mastery_xp_bonus INTEGER NOT NULL, 
	is_repeatable BOOLEAN NOT NULL, 
	PRIMARY KEY (id)
)


2025-12-05 22:54:39,895 INFO sqlalchemy.engine.Engine [no key 0.00022s] ()
2025-12-05 22:54:39,904 INFO sqlalchemy.engine.Engine CREATE INDEX ix_questdefinition_track_id ON questdefinition (track_id)
2025-12-05 22:54:39,904 INFO sqlalchemy.engine.Engine [no key 0.00018s] ()
2025-12-05 22:54:39,911 INFO sqlalchemy.engine.Engine CREATE INDEX ix_questdefinition_world_id ON questdefinition (world_id)
2025-12-05 22:54:39,912 INFO sqlalchemy.engine.Engine [no key 0.00020s] ()
2025-12-05 22:54:39,919 INFO sqlalchemy.engine.Engine CREATE UNIQUE INDEX ix_questdefinition_slug ON questdefinition (slug)
2025-12-05 22:54:39,920 INFO sqlalchemy.engine.Engine [no key 0.00019s] ()
2025-12-05 22:54:39,928 INFO sqlalchemy.engine.Engine 
CREATE TABLE user (
	id VARCHAR NOT NULL, 
	name VARCHAR NOT NULL, 
	avatar_url VARCHAR, 
	current_avatar_id VARCHAR NOT NULL, 
	created_at DATETIME NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(current_avatar_id) REFERENCES avatardefinition (id)
)


2025-12-05 22:54:39,928 INFO sqlalchemy.engine.Engine [no key 0.00020s] ()
2025-12-05 22:54:39,936 INFO sqlalchemy.engine.Engine 
CREATE TABLE chatsession (
	id VARCHAR NOT NULL, 
	user_id VARCHAR NOT NULL, 
	mode VARCHAR NOT NULL, 
	world_id VARCHAR, 
	track_id VARCHAR, 
	history JSON NOT NULL, 
	state JSON NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES user (id)
)


2025-12-05 22:54:39,937 INFO sqlalchemy.engine.Engine [no key 0.00017s] ()
2025-12-05 22:54:39,944 INFO sqlalchemy.engine.Engine CREATE INDEX ix_chatsession_user_id ON chatsession (user_id)
2025-12-05 22:54:39,945 INFO sqlalchemy.engine.Engine [no key 0.00020s] ()
2025-12-05 22:54:39,953 INFO sqlalchemy.engine.Engine 
CREATE TABLE profile (
	id INTEGER NOT NULL, 
	user_id VARCHAR NOT NULL, 
	total_xp INTEGER NOT NULL, 
	global_level INTEGER NOT NULL, 
	skill_points INTEGER NOT NULL, 
	world_progress JSON NOT NULL, 
	flags JSON NOT NULL, 
	PRIMARY KEY (id), 
	UNIQUE (user_id), 
	FOREIGN KEY(user_id) REFERENCES user (id)
)


2025-12-05 22:54:39,953 INFO sqlalchemy.engine.Engine [no key 0.00020s] ()
2025-12-05 22:54:39,962 INFO sqlalchemy.engine.Engine 
CREATE TABLE userskill (
	id INTEGER NOT NULL, 
	user_id VARCHAR NOT NULL, 
	skill_id VARCHAR NOT NULL, 
	unlocked_at DATETIME NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES user (id), 
	FOREIGN KEY(skill_id) REFERENCES skillnode (id)
)


2025-12-05 22:54:39,962 INFO sqlalchemy.engine.Engine [no key 0.00020s] ()
2025-12-05 22:54:39,970 INFO sqlalchemy.engine.Engine CREATE INDEX ix_userskill_user_id ON userskill (user_id)
2025-12-05 22:54:39,970 INFO sqlalchemy.engine.Engine [no key 0.00016s] ()
2025-12-05 22:54:39,979 INFO sqlalchemy.engine.Engine CREATE INDEX ix_userskill_skill_id ON userskill (skill_id)
2025-12-05 22:54:39,979 INFO sqlalchemy.engine.Engine [no key 0.00021s] ()
2025-12-05 22:54:39,987 INFO sqlalchemy.engine.Engine 
CREATE TABLE usermetric (
	id INTEGER NOT NULL, 
	user_id VARCHAR NOT NULL, 
	metric_key VARCHAR NOT NULL, 
	value INTEGER NOT NULL, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES user (id)
)


2025-12-05 22:54:39,988 INFO sqlalchemy.engine.Engine [no key 0.00021s] ()
2025-12-05 22:54:39,998 INFO sqlalchemy.engine.Engine CREATE INDEX ix_usermetric_user_id ON usermetric (user_id)
2025-12-05 22:54:39,998 INFO sqlalchemy.engine.Engine [no key 0.00017s] ()
2025-12-05 22:54:40,007 INFO sqlalchemy.engine.Engine 
CREATE TABLE userbadge (
	id INTEGER NOT NULL, 
	user_id VARCHAR NOT NULL, 
	badge_id VARCHAR NOT NULL, 
	awarded_at DATETIME NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES user (id), 
	FOREIGN KEY(badge_id) REFERENCES badgedefinition (id)
)


2025-12-05 22:54:40,007 INFO sqlalchemy.engine.Engine [no key 0.00021s] ()
2025-12-05 22:54:40,015 INFO sqlalchemy.engine.Engine CREATE INDEX ix_userbadge_user_id ON userbadge (user_id)
2025-12-05 22:54:40,015 INFO sqlalchemy.engine.Engine [no key 0.00021s] ()
2025-12-05 22:54:40,025 INFO sqlalchemy.engine.Engine 
CREATE TABLE project (
	id VARCHAR NOT NULL, 
	owner_user_id VARCHAR NOT NULL, 
	name VARCHAR NOT NULL, 
	repo_url VARCHAR NOT NULL, 
	provider VARCHAR NOT NULL, 
	source VARCHAR NOT NULL, 
	default_world_id VARCHAR NOT NULL, 
	summary_data JSON NOT NULL, 
	sync_status VARCHAR NOT NULL, 
	last_sync_at DATETIME, 
	codex_status VARCHAR NOT NULL, 
	codex_warnings JSON NOT NULL, 
	codex_last_sync DATETIME, 
	PRIMARY KEY (id), 
	FOREIGN KEY(owner_user_id) REFERENCES user (id)
)


2025-12-05 22:54:40,025 INFO sqlalchemy.engine.Engine [no key 0.00017s] ()
2025-12-05 22:54:40,033 INFO sqlalchemy.engine.Engine 
CREATE TABLE bossrun (
	id INTEGER NOT NULL, 
	user_id VARCHAR NOT NULL, 
	boss_id VARCHAR NOT NULL, 
	started_at DATETIME NOT NULL, 
	expires_at DATETIME NOT NULL, 
	completed_at DATETIME, 
	result VARCHAR, 
	score INTEGER NOT NULL, 
	hp_remaining INTEGER NOT NULL, 
	judge_trace_id VARCHAR, 
	notes VARCHAR, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES user (id), 
	FOREIGN KEY(boss_id) REFERENCES bossdefinition (id)
)


2025-12-05 22:54:40,034 INFO sqlalchemy.engine.Engine [no key 0.00019s] ()
2025-12-05 22:54:40,042 INFO sqlalchemy.engine.Engine CREATE INDEX ix_bossrun_boss_id ON bossrun (boss_id)
2025-12-05 22:54:40,042 INFO sqlalchemy.engine.Engine [no key 0.00019s] ()
2025-12-05 22:54:40,050 INFO sqlalchemy.engine.Engine CREATE INDEX ix_bossrun_user_id ON bossrun (user_id)
2025-12-05 22:54:40,050 INFO sqlalchemy.engine.Engine [no key 0.00020s] ()
2025-12-05 22:54:40,059 INFO sqlalchemy.engine.Engine 
CREATE TABLE bossprogress (
	id INTEGER NOT NULL, 
	user_id VARCHAR NOT NULL, 
	boss_id VARCHAR NOT NULL, 
	fail_streak INTEGER NOT NULL, 
	highest_hint_level INTEGER NOT NULL, 
	last_attempt_at DATETIME NOT NULL, 
	last_result VARCHAR, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES user (id), 
	FOREIGN KEY(boss_id) REFERENCES bossdefinition (id)
)


2025-12-05 22:54:40,059 INFO sqlalchemy.engine.Engine [no key 0.00019s] ()
2025-12-05 22:54:40,067 INFO sqlalchemy.engine.Engine CREATE INDEX ix_bossprogress_user_id ON bossprogress (user_id)
2025-12-05 22:54:40,068 INFO sqlalchemy.engine.Engine [no key 0.00019s] ()
2025-12-05 22:54:40,076 INFO sqlalchemy.engine.Engine CREATE INDEX ix_bossprogress_boss_id ON bossprogress (boss_id)
2025-12-05 22:54:40,076 INFO sqlalchemy.engine.Engine [no key 0.00017s] ()
2025-12-05 22:54:40,088 INFO sqlalchemy.engine.Engine 
CREATE TABLE questprogress (
	id INTEGER NOT NULL, 
	user_id VARCHAR NOT NULL, 
	quest_id INTEGER NOT NULL, 
	state VARCHAR(11) NOT NULL, 
	attempts INTEGER NOT NULL, 
	best_score FLOAT, 
	last_submitted_at DATETIME, 
	completed_at DATETIME, 
	mastered_at DATETIME, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES user (id), 
	FOREIGN KEY(quest_id) REFERENCES questdefinition (id)
)


2025-12-05 22:54:40,088 INFO sqlalchemy.engine.Engine [no key 0.00021s] ()
2025-12-05 22:54:40,097 INFO sqlalchemy.engine.Engine CREATE INDEX ix_questprogress_user_id ON questprogress (user_id)
2025-12-05 22:54:40,097 INFO sqlalchemy.engine.Engine [no key 0.00017s] ()
2025-12-05 22:54:40,105 INFO sqlalchemy.engine.Engine 
CREATE TABLE projectcodexdoc (
	id INTEGER NOT NULL, 
	project_id VARCHAR NOT NULL, 
	doc_type VARCHAR NOT NULL, 
	title VARCHAR NOT NULL, 
	summary VARCHAR NOT NULL, 
	body_md VARCHAR NOT NULL, 
	world_ids JSON NOT NULL, 
	level INTEGER NOT NULL, 
	tags JSON NOT NULL, 
	metadata_json JSON NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	auto_generated BOOLEAN NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(project_id) REFERENCES project (id)
)


2025-12-05 22:54:40,105 INFO sqlalchemy.engine.Engine [no key 0.00021s] ()
2025-12-05 22:54:40,113 INFO sqlalchemy.engine.Engine CREATE INDEX ix_projectcodexdoc_project_id ON projectcodexdoc (project_id)
2025-12-05 22:54:40,113 INFO sqlalchemy.engine.Engine [no key 0.00017s] ()
2025-12-05 22:54:40,122 INFO sqlalchemy.engine.Engine CREATE INDEX ix_projectcodexdoc_doc_type ON projectcodexdoc (doc_type)
2025-12-05 22:54:40,122 INFO sqlalchemy.engine.Engine [no key 0.00019s] ()
2025-12-05 22:54:40,129 INFO sqlalchemy.engine.Engine 
CREATE TABLE bosscodexprogress (
	id INTEGER NOT NULL, 
	profile_id INTEGER NOT NULL, 
	boss_id VARCHAR NOT NULL, 
	tier_unlocked INTEGER NOT NULL, 
	deaths INTEGER NOT NULL, 
	wins INTEGER NOT NULL, 
	first_seen_at DATETIME, 
	first_kill_at DATETIME, 
	updated_at DATETIME NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(profile_id) REFERENCES profile (id)
)


2025-12-05 22:54:40,130 INFO sqlalchemy.engine.Engine [no key 0.00018s] ()
2025-12-05 22:54:40,137 INFO sqlalchemy.engine.Engine CREATE INDEX ix_bosscodexprogress_boss_id ON bosscodexprogress (boss_id)
2025-12-05 22:54:40,137 INFO sqlalchemy.engine.Engine [no key 0.00017s] ()
2025-12-05 22:54:40,148 INFO sqlalchemy.engine.Engine CREATE INDEX ix_bosscodexprogress_profile_id ON bosscodexprogress (profile_id)
2025-12-05 22:54:40,148 INFO sqlalchemy.engine.Engine [no key 0.00015s] ()
2025-12-05 22:54:40,156 INFO sqlalchemy.engine.Engine COMMIT
2025-12-05 22:54:40,172 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-05 22:54:40,174 INFO sqlalchemy.engine.Engine INSERT INTO questdefinition (slug, world_id, track_id, order_index, title, short_description, detailed_description, rubric_id, starting_code_path, unlocks_boss_id, unlocks_layout_id, base_xp_reward, mastery_xp_bonus, is_repeatable) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-05 22:54:40,174 INFO sqlalchemy.engine.Engine [generated in 0.00020s] ('loop', 'world-python', 'python-fundamentals', 1, 'Loop Quest', 'Write a loop', 'Write a loop', 'test-rubric', None, None, None, 10, 5, 0)
2025-12-05 22:54:40,176 INFO sqlalchemy.engine.Engine INSERT INTO user (id, name, avatar_url, current_avatar_id, created_at) VALUES (?, ?, ?, ?, ?)
2025-12-05 22:54:40,176 INFO sqlalchemy.engine.Engine [generated in 0.00014s] ('smoke_test_user', 'Smoke Tester', None, 'default_user', '2025-12-06 03:54:40.171651')
2025-12-05 22:54:40,177 INFO sqlalchemy.engine.Engine INSERT INTO profile (user_id, total_xp, global_level, skill_points, world_progress, flags) VALUES (?, ?, ?, ?, ?, ?)
2025-12-05 22:54:40,178 INFO sqlalchemy.engine.Engine [generated in 0.00012s] ('smoke_test_user', 0, 1, 0, '{}', '{}')
2025-12-05 22:54:40,178 INFO sqlalchemy.engine.Engine COMMIT
2025-12-05 22:54:40,192 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-05 22:54:40,193 INFO sqlalchemy.engine.Engine SELECT questdefinition.id, questdefinition.slug, questdefinition.world_id, questdefinition.track_id, questdefinition.order_index, questdefinition.title, questdefinition.short_description, questdefinition.detailed_description, questdefinition.rubric_id, questdefinition.starting_code_path, questdefinition.unlocks_boss_id, questdefinition.unlocks_layout_id, questdefinition.base_xp_reward, questdefinition.mastery_xp_bonus, questdefinition.is_repeatable 
FROM questdefinition 
WHERE questdefinition.id = ?
2025-12-05 22:54:40,193 INFO sqlalchemy.engine.Engine [generated in 0.00013s] (1,)
2025-12-05 22:54:40,195 INFO sqlalchemy.engine.Engine INSERT INTO questprogress (user_id, quest_id, state, attempts, best_score, last_submitted_at, completed_at, mastered_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-12-05 22:54:40,195 INFO sqlalchemy.engine.Engine [generated in 0.00012s] ('smoke_test_user', 1, 'IN_PROGRESS', 0, None, None, None, None)
2025-12-05 22:54:40,197 INFO sqlalchemy.engine.Engine COMMIT
2025-12-05 22:54:40,214 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-05 22:54:40,215 INFO sqlalchemy.engine.Engine SELECT chatsession.id AS chatsession_id, chatsession.user_id AS chatsession_user_id, chatsession.mode AS chatsession_mode, chatsession.world_id AS chatsession_world_id, chatsession.track_id AS chatsession_track_id, chatsession.history AS chatsession_history, chatsession.state AS chatsession_state, chatsession.created_at AS chatsession_created_at, chatsession.updated_at AS chatsession_updated_at 
FROM chatsession 
WHERE chatsession.id = ?
2025-12-05 22:54:40,215 INFO sqlalchemy.engine.Engine [generated in 0.00013s] ('test_session_123',)
2025-12-05 22:54:40,216 INFO sqlalchemy.engine.Engine SELECT chatsession.id AS chatsession_id, chatsession.user_id AS chatsession_user_id, chatsession.mode AS chatsession_mode, chatsession.world_id AS chatsession_world_id, chatsession.track_id AS chatsession_track_id, chatsession.history AS chatsession_history, chatsession.state AS chatsession_state, chatsession.created_at AS chatsession_created_at, chatsession.updated_at AS chatsession_updated_at 
FROM chatsession 
WHERE chatsession.id = ?
2025-12-05 22:54:40,216 INFO sqlalchemy.engine.Engine [cached since 0.001385s ago] ('test_session_123',)
2025-12-05 22:54:46,038 INFO sqlalchemy.engine.Engine SELECT questdefinition.order_index 
FROM questdefinition JOIN questprogress ON questprogress.quest_id = questdefinition.id 
WHERE questprogress.user_id = ? AND questprogress.state IN (?, ?) AND questdefinition.track_id = ? ORDER BY questdefinition.order_index DESC
2025-12-05 22:54:46,038 INFO sqlalchemy.engine.Engine [generated in 0.00024s] ('smoke_test_user', 'COMPLETED', 'MASTERED', 'python-fundamentals')
2025-12-05 22:54:46,040 INFO sqlalchemy.engine.Engine SELECT questdefinition.id, questdefinition.slug, questdefinition.world_id, questdefinition.track_id, questdefinition.order_index, questdefinition.title, questdefinition.short_description, questdefinition.detailed_description, questdefinition.rubric_id, questdefinition.starting_code_path, questdefinition.unlocks_boss_id, questdefinition.unlocks_layout_id, questdefinition.base_xp_reward, questdefinition.mastery_xp_bonus, questdefinition.is_repeatable 
FROM questdefinition 
WHERE questdefinition.track_id = ? AND questdefinition.order_index = ?
2025-12-05 22:54:46,040 INFO sqlalchemy.engine.Engine [generated in 0.00013s] ('python-fundamentals', 1)
2025-12-05 22:54:46,042 INFO sqlalchemy.engine.Engine SELECT questprogress.id, questprogress.user_id, questprogress.quest_id, questprogress.state, questprogress.attempts, questprogress.best_score, questprogress.last_submitted_at, questprogress.completed_at, questprogress.mastered_at 
FROM questprogress 
WHERE questprogress.user_id = ? AND questprogress.quest_id = ?
2025-12-05 22:54:46,042 INFO sqlalchemy.engine.Engine [generated in 0.00017s] ('smoke_test_user', 1)
2025-12-05 22:54:46,044 INFO sqlalchemy.engine.Engine SELECT chatsession.id AS chatsession_id, chatsession.user_id AS chatsession_user_id, chatsession.mode AS chatsession_mode, chatsession.world_id AS chatsession_world_id, chatsession.track_id AS chatsession_track_id, chatsession.history AS chatsession_history, chatsession.state AS chatsession_state, chatsession.created_at AS chatsession_created_at, chatsession.updated_at AS chatsession_updated_at 
FROM chatsession 
WHERE chatsession.id = ?
2025-12-05 22:54:46,044 INFO sqlalchemy.engine.Engine [cached since 5.829s ago] ('test_session_123',)
Stream output:
'event: npc_identity\r\ndata: {"id": "npc_kai", "role": "quest", "name": "KAI", "title": "Mission Control", "short_desc": "Tactical operator who assigns missions.", "color": "cyan", "avatar_icon": "radar", "voice_prompt": "You are KAI, a tactical mission handler. Speak in brief, military-style transmissions. Refer to the user as \'Operative\'. Never write full code solutions; focus on objectives and constraints."}\r\n\r\nevent: text_delta\r\ndata: Hello from Smoke Test Agent\r\n\r\nevent: done\r\ndata: [DONE]\r\n\r\n'
.2025-12-05 22:54:46,048 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-05 22:54:46,049 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-05 22:54:46,049 INFO sqlalchemy.engine.Engine PRAGMA foreign_keys = OFF
2025-12-05 22:54:46,049 INFO sqlalchemy.engine.Engine [generated in 0.00013s] ()
2025-12-05 22:54:46,050 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("avatardefinition")
2025-12-05 22:54:46,050 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-05 22:54:46,050 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("user")
2025-12-05 22:54:46,050 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-05 22:54:46,051 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("chatsession")
2025-12-05 22:54:46,051 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-05 22:54:46,052 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("profile")
2025-12-05 22:54:46,052 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-05 22:54:46,052 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("skillnode")
2025-12-05 22:54:46,053 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-05 22:54:46,053 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("userskill")
2025-12-05 22:54:46,053 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-05 22:54:46,054 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("usermetric")
2025-12-05 22:54:46,054 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-05 22:54:46,054 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("badgedefinition")
2025-12-05 22:54:46,054 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-05 22:54:46,055 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("userbadge")
2025-12-05 22:54:46,055 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-05 22:54:46,056 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("project")
2025-12-05 22:54:46,056 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-05 22:54:46,057 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("projectcodexdoc")
2025-12-05 22:54:46,057 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-05 22:54:46,058 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("knowledgechunk")
2025-12-05 22:54:46,058 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-05 22:54:46,059 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("bossdefinition")
2025-12-05 22:54:46,059 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-05 22:54:46,059 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("bossrun")
2025-12-05 22:54:46,059 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-05 22:54:46,060 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("bossprogress")
2025-12-05 22:54:46,060 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-05 22:54:46,060 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("bosscodexprogress")
2025-12-05 22:54:46,060 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-05 22:54:46,061 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("trackdefinition")
2025-12-05 22:54:46,061 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-05 22:54:46,062 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("questdefinition")
2025-12-05 22:54:46,062 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-05 22:54:46,062 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("questprogress")
2025-12-05 22:54:46,062 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-05 22:54:46,063 INFO sqlalchemy.engine.Engine 
DROP TABLE bosscodexprogress
2025-12-05 22:54:46,063 INFO sqlalchemy.engine.Engine [no key 0.00010s] ()
2025-12-05 22:54:46,094 INFO sqlalchemy.engine.Engine 
DROP TABLE projectcodexdoc
2025-12-05 22:54:46,094 INFO sqlalchemy.engine.Engine [no key 0.00028s] ()
2025-12-05 22:54:46,103 INFO sqlalchemy.engine.Engine 
DROP TABLE questprogress
2025-12-05 22:54:46,104 INFO sqlalchemy.engine.Engine [no key 0.00028s] ()
2025-12-05 22:54:46,111 INFO sqlalchemy.engine.Engine 
DROP TABLE bossprogress
2025-12-05 22:54:46,112 INFO sqlalchemy.engine.Engine [no key 0.00020s] ()
2025-12-05 22:54:46,119 INFO sqlalchemy.engine.Engine 
DROP TABLE bossrun
2025-12-05 22:54:46,119 INFO sqlalchemy.engine.Engine [no key 0.00017s] ()
2025-12-05 22:54:46,127 INFO sqlalchemy.engine.Engine 
DROP TABLE project
2025-12-05 22:54:46,127 INFO sqlalchemy.engine.Engine [no key 0.00022s] ()
2025-12-05 22:54:46,135 INFO sqlalchemy.engine.Engine 
DROP TABLE userbadge
2025-12-05 22:54:46,135 INFO sqlalchemy.engine.Engine [no key 0.00024s] ()
2025-12-05 22:54:46,143 INFO sqlalchemy.engine.Engine 
DROP TABLE usermetric
2025-12-05 22:54:46,143 INFO sqlalchemy.engine.Engine [no key 0.00018s] ()
2025-12-05 22:54:46,151 INFO sqlalchemy.engine.Engine 
DROP TABLE userskill
2025-12-05 22:54:46,151 INFO sqlalchemy.engine.Engine [no key 0.00018s] ()
2025-12-05 22:54:46,160 INFO sqlalchemy.engine.Engine 
DROP TABLE profile
2025-12-05 22:54:46,160 INFO sqlalchemy.engine.Engine [no key 0.00019s] ()
2025-12-05 22:54:46,168 INFO sqlalchemy.engine.Engine 
DROP TABLE chatsession
2025-12-05 22:54:46,169 INFO sqlalchemy.engine.Engine [no key 0.00035s] ()
2025-12-05 22:54:46,177 INFO sqlalchemy.engine.Engine 
DROP TABLE user
2025-12-05 22:54:46,177 INFO sqlalchemy.engine.Engine [no key 0.00025s] ()
2025-12-05 22:54:46,184 INFO sqlalchemy.engine.Engine 
DROP TABLE questdefinition
2025-12-05 22:54:46,185 INFO sqlalchemy.engine.Engine [no key 0.00018s] ()
2025-12-05 22:54:46,192 INFO sqlalchemy.engine.Engine 
DROP TABLE trackdefinition
2025-12-05 22:54:46,192 INFO sqlalchemy.engine.Engine [no key 0.00023s] ()
2025-12-05 22:54:46,200 INFO sqlalchemy.engine.Engine 
DROP TABLE bossdefinition
2025-12-05 22:54:46,200 INFO sqlalchemy.engine.Engine [no key 0.00025s] ()
2025-12-05 22:54:46,208 INFO sqlalchemy.engine.Engine 
DROP TABLE knowledgechunk
2025-12-05 22:54:46,208 INFO sqlalchemy.engine.Engine [no key 0.00020s] ()
2025-12-05 22:54:46,216 INFO sqlalchemy.engine.Engine 
DROP TABLE badgedefinition
2025-12-05 22:54:46,216 INFO sqlalchemy.engine.Engine [no key 0.00023s] ()
2025-12-05 22:54:46,227 INFO sqlalchemy.engine.Engine 
DROP TABLE skillnode
2025-12-05 22:54:46,227 INFO sqlalchemy.engine.Engine [no key 0.00020s] ()
2025-12-05 22:54:46,235 INFO sqlalchemy.engine.Engine 
DROP TABLE avatardefinition
2025-12-05 22:54:46,235 INFO sqlalchemy.engine.Engine [no key 0.00022s] ()
2025-12-05 22:54:46,243 INFO sqlalchemy.engine.Engine PRAGMA foreign_keys = ON
2025-12-05 22:54:46,243 INFO sqlalchemy.engine.Engine [generated in 0.00025s] ()
2025-12-05 22:54:46,244 INFO sqlalchemy.engine.Engine COMMIT


============================== warnings summary ===============================
C:\Users\pierr\AppData\Roaming\Python\Python313\site-packages\pydantic\_internal\_config.py:323
  C:\Users\pierr\AppData\Roaming\Python\Python313\site-packages\pydantic\_internal\_config.py:323: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/
    warnings.warn(DEPRECATION_MESSAGE, DeprecationWarning)

arcade_app\agent.py:440
  D:\EvalForge\arcade_app\agent.py:440: DeprecationWarning: 
          on_event is deprecated, use lifespan event handlers instead.
  
          Read more about it in the
          [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).
          
    @app.on_event("startup")

C:\Users\pierr\AppData\Roaming\Python\Python313\site-packages\fastapi\applications.py:4523
  C:\Users\pierr\AppData\Roaming\Python\Python313\site-packages\fastapi\applications.py:4523: DeprecationWarning: 
          on_event is deprecated, use lifespan event handlers instead.
  
          Read more about it in the
          [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).
          
    return self.router.on_event(event_type)

tests/backend/test_quest_smoke.py::test_quest_agent_smoke_sse
  C:\Users\pierr\AppData\Roaming\Python\Python313\site-packages\pydantic\fields.py:656: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
    return fac()

tests/backend/test_quest_smoke.py::test_quest_agent_smoke_sse
  <frozen abc>:106: LangGraphDeprecatedSinceV10: AgentStatePydantic has been moved to `langchain.agents`. Please update your import to `from langchain.agents import AgentStatePydantic`. Deprecated in LangGraph V1.0 to be removed in V2.0.

tests/backend/test_quest_smoke.py::test_quest_agent_smoke_sse
  C:\Users\pierr\AppData\Roaming\Python\Python313\site-packages\pydantic\_internal\_generate_schema.py:628: UserWarning: <MagicMock name='mock.SafetySettingsType.__or__()' id='1470768044688'> is not a Python type (it may be an instance of an object), Pydantic will allow any object with no validation since we cannot even enforce that the input is an instance of the given type. To get rid of this error wrap the type with `pydantic.SkipValidation`.
    warn(

tests/backend/test_quest_smoke.py::test_quest_agent_smoke_sse
  D:\\EvalForge\\arcade_app\\quest_helper.py:88: DeprecationWarning: \n          \U0001f6a8 You probably want to use `session.exec()` instead of `session.execute()`.\n  \n          This is the original SQLAlchemy `session.execute()` method that returns objects\n          of type `Row`, and that you have to call `scalars()` to get the model objects.\n  \n          For example:\n  \n          ```Python\n          heroes = await session.execute(select(Hero)).scalars().all()\n          ```\n  \n          instead you could use `exec()`:\n  \n          ```Python\n          heroes = await session.exec(select(Hero)).all()\n          ```\n          \n    result = await session.execute(statement)

tests/backend/test_quest_smoke.py::test_quest_agent_smoke_sse
  D:\\EvalForge\\arcade_app\\quest_helper.py:94: DeprecationWarning: \n          \U0001f6a8 You probably want to use `session.exec()` instead of `session.execute()`.\n  \n          This is the original SQLAlchemy `session.execute()` method that returns objects\n          of type `Row`, and that you have to call `scalars()` to get the model objects.\n  \n          For example:\n  \n          ```Python\n          heroes = await session.execute(select(Hero)).scalars().all()\n          ```\n  \n          instead you could use `exec()`:\n  \n          ```Python\n          heroes = await session.exec(select(Hero)).all()\n          ```\n          \n    q_def = (await session.execute(

tests/backend/test_quest_smoke.py::test_quest_agent_smoke_sse
  D:\\EvalForge\\arcade_app\\quest_helper.py:105: DeprecationWarning: \n          \U0001f6a8 You probably want to use `session.exec()` instead of `session.execute()`.\n  \n          This is the original SQLAlchemy `session.execute()` method that returns objects\n          of type `Row`, and that you have to call `scalars()` to get the model objects.\n  \n          For example:\n  \n          ```Python\n          heroes = await session.execute(select(Hero)).scalars().all()\n          ```\n  \n          instead you could use `exec()`:\n  \n          ```Python\n          heroes = await session.exec(select(Hero)).all()\n          ```\n          \n    active_check = await session.execute(

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
======================== 1 passed, 9 warnings in 7.38s ========================
